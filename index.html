<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mein Online-Shop</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Mein Online-Shop</h1>
        <nav>
            <ul>
                <li><a href="#" onclick="filterProducts('Alle')">Alle</a></li>
                <li><a href="#" onclick="filterProducts('Bekleidung')">Bekleidung</a></li>
                <li><a href="#" onclick="filterProducts('Uhren')">Uhren</a></li>
                <li><a href="#" onclick="filterProducts('Accessoires')">Accessoires</a></li>
            </ul>
            <input type="text" id="search" placeholder="Suche..." onkeyup="searchProducts()">
        </nav>
    </header>
    
    <main>
        <div id="produkt-liste"></div>
    </main>
    
    <script>
        let produkte = [];
        
        document.addEventListener("DOMContentLoaded", () => {
            fetch('produkt.json')
                .then(response => response.json())
                .then(data => {
                    produkte = data;
                    displayProducts(produkte);
                })
                .catch(error => console.error("Fehler beim Laden der Produkte:", error));
        });
        
        function displayProducts(productArray) {
            const produktListe = document.getElementById("produkt-liste");
            produktListe.innerHTML = "";
            
            productArray.forEach(produkt => {
                const produktDiv = document.createElement("div");
                produktDiv.classList.add("produkt");
                produktDiv.innerHTML = `<h2>${produkt.name}</h2><p>${produkt.kategorie}</p><p>${produkt.preis} â‚¬</p>`;
                produktListe.appendChild(produktDiv);
            });
        }
        
        function filterProducts(kategorie) {
            if (kategorie === "Alle") {
                displayProducts(produkte);
            } else {
                const gefiltert = produkte.filter(p => p.kategorie === kategorie);
                displayProducts(gefiltert);
            }
        }
        
        function searchProducts() {
            const suchbegriff = document.getElementById("search").value.toLowerCase();
            const gefiltert = produkte.filter(p => p.name.toLowerCase().includes(suchbegriff));
            displayProducts(gefiltert);
        }
    </script>
</body>
</html>
